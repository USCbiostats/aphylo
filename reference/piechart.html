<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>A flexible piechart. — piechart • aphylo</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<meta property="og:title" content="A flexible piechart. — piechart" />

<meta property="og:description" content="While similar to graphics::pie(), this function is much more
flexible as it allows providing different parameters for each slice of the pie.
Furthermore, it allows adding the plot to the current device, making it possible
to create compound piecharts." />
<meta name="twitter:card" content="summary" />
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">aphylo</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_imputation.html">Untitled</a>
    </li>
    <li>
      <a href="../articles/peeling_phylo.html">Peeling Algorithm in Phylogenic Trees</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USCbiostats/phylogenetic">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A flexible piechart.</h1>
    </div>

    
    <p>While similar to <code><a href='http://www.rdocumentation.org/packages/graphics/topics/pie'>graphics::pie()</a></code>, this function is much more
flexible as it allows providing different parameters for each slice of the pie.
Furthermore, it allows adding the plot to the current device, making it possible
to create compound piecharts.</p>
    

    <pre class="usage"><span class='fu'>piechart</span>(<span class='no'>x</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>x</span>), <span class='kw'>radius</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>doughnut</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>origin</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0</span>,
  <span class='fl'>0</span>), <span class='kw'>edges</span> <span class='kw'>=</span> <span class='fl'>200</span>, <span class='kw'>slice.off</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>init.angle</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>last.angle</span> <span class='kw'>=</span> <span class='fl'>360</span>,
  <span class='kw'>tick.len</span> <span class='kw'>=</span> <span class='fl'>0.1</span>, <span class='kw'>text.args</span> <span class='kw'>=</span> <span class='fu'>list</span>(), <span class='kw'>segments.args</span> <span class='kw'>=</span> <span class='fu'>list</span>(),
  <span class='kw'>skip.plot.slices</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>rescale</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Numeric vector. Values that specify the area of the slices.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>Character vector of length <code>length(x)</code>. Passed to
<code><a href='http://www.rdocumentation.org/packages/graphics/topics/text'>graphics::text()</a></code>.</p></td>
    </tr>
    <tr>
      <th>radius</th>
      <td><p>Numeric vector. Radious of each slice (can be a scalar).</p></td>
    </tr>
    <tr>
      <th>doughnut</th>
      <td><p>Numeric scalar. Radious of each inner circle (doughnut) (can be a scalar).</p></td>
    </tr>
    <tr>
      <th>origin</th>
      <td><p>Numeric vector of length 2. Coordinates of the origin.</p></td>
    </tr>
    <tr>
      <th>edges</th>
      <td><p>Numeric scalar. Smoothness of the slices curve (can be a vector).</p></td>
    </tr>
    <tr>
      <th>slice.off</th>
      <td><p>Numeric vector. When <code>!=0</code>, specifies how much to
move the slice away from the origin. When scalar is recycled.</p></td>
    </tr>
    <tr>
      <th>init.angle</th>
      <td><p>Numeric scalar. Angle from where to start drawing in degrees.</p></td>
    </tr>
    <tr>
      <th>last.angle</th>
      <td><p>Numeric scalar. Angle where to finish drawing in degrees.</p></td>
    </tr>
    <tr>
      <th>tick.len</th>
      <td><p>Numeric scalar. Size of the tick marks as proportion of the radius.</p></td>
    </tr>
    <tr>
      <th>text.args</th>
      <td><p>List. Further arguments passed to <code><a href='http://www.rdocumentation.org/packages/graphics/topics/text'>graphics::text()</a></code>.</p></td>
    </tr>
    <tr>
      <th>segments.args</th>
      <td><p>List. Further arguments passed to <code><a href='http://www.rdocumentation.org/packages/graphics/topics/segments'>graphics::segments()</a></code>
when drawing the tickmarks.</p></td>
    </tr>
    <tr>
      <th>skip.plot.slices</th>
      <td><p>Logical scalar. When <code>FALSE</code>, slices are not drawn.
This can be useful if, for example, the user only wants to draw the labels.</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>Logical scalar. When <code>TRUE</code> it is added to the current device.</p></td>
    </tr>
    <tr>
      <th>rescale</th>
      <td><p>Logical scalar. When <code>TRUE</code> (default), the y-coordinates of
the polygons (slices), text and tickmarks will be rescaled such that the
aspect ratio is preserved, i.e. looks like a circle.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to <code><a href='http://www.rdocumentation.org/packages/graphics/topics/polygon'>graphics::polygon()</a></code>
(see details).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with the following elements:</p>
<dt>slices</dt><dd><p>A list of length <code>length(x)</code> with the coordinates of each
slice.</p></dd>
<dt>textcoords</dt><dd><p>A numeric matrix of size <code>length(x)*2</code> with
coordinates where the labels can be put at.</p></dd>
<dt>alpha0</dt><dd><p>A numeric vector of size <code>length(x)</code> with the starting
degree in radians of the slice.</p></dd>
<dt>alpha1</dt><dd><p>A numeric vector of size <code>length(x)</code> with the ending
degree in radians of the slice.</p></dd>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function is a wrapper of <code><a href='http://www.rdocumentation.org/packages/graphics/topics/polygon'>graphics::polygon()</a></code>,
so all parameters such as color, density, border, etc. are passed directly
by <code>mapply()</code> so that are specified one per slice. The coordinates
of the slices are computed internally.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>https://commons.wikimedia.org/wiki/File:Nightingale-mortality.jpg</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Example 1 -----------------------------------------------------------------</span>
<span class='co'># A set of 3 nested rings rings starting at 315 deg. and ending at 270 deg.</span>

<span class='co'># Values to plot</span>
<span class='no'>vals</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>10</span>)

<span class='co'># Outer (includes labels)</span>
<span class='fu'>piechart</span>(<span class='no'>vals</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='kw pkg'>grDevices</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/grDevices/topics/densCols'>blues9</a></span>[<span class='fl'>5</span>:<span class='fl'>8</span>], <span class='kw'>border</span><span class='kw'>=</span><span class='fl'>NA</span>, <span class='kw'>doughnut</span> <span class='kw'>=</span> <span class='fl'>.5</span>,
    <span class='kw'>radius</span><span class='kw'>=</span><span class='fl'>.75</span>, <span class='kw'>labels</span><span class='kw'>=</span><span class='no'>vals</span>, <span class='kw'>init.angle</span> <span class='kw'>=</span> <span class='fl'>315</span>, <span class='kw'>last.angle</span> <span class='kw'>=</span> <span class='fl'>270</span>)</div><div class='input'>
<span class='co'># Middle</span>
<span class='fu'>piechart</span>(<span class='no'>vals</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='kw pkg'>grDevices</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/grDevices/topics/densCols'>blues9</a></span>[<span class='fl'>3</span>:<span class='fl'>6</span>], <span class='kw'>border</span><span class='kw'>=</span><span class='fl'>NA</span>, <span class='kw'>doughnut</span> <span class='kw'>=</span> <span class='fl'>.3</span>,
    <span class='kw'>radius</span><span class='kw'>=</span><span class='fl'>.5</span>, <span class='kw'>add</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>init.angle</span> <span class='kw'>=</span> <span class='fl'>315</span>, <span class='kw'>last.angle</span> <span class='kw'>=</span> <span class='fl'>270</span>)</div><div class='input'>
<span class='co'># Inner</span>
<span class='fu'>piechart</span>(<span class='no'>vals</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='kw pkg'>grDevices</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/grDevices/topics/densCols'>blues9</a></span>[<span class='fl'>1</span>:<span class='fl'>4</span>], <span class='kw'>border</span><span class='kw'>=</span><span class='st'>"gray"</span>, <span class='kw'>doughnut</span> <span class='kw'>=</span> <span class='fl'>.1</span>,
    <span class='kw'>radius</span><span class='kw'>=</span><span class='fl'>.3</span>, <span class='kw'>add</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>init.angle</span> <span class='kw'>=</span> <span class='fl'>315</span>, <span class='kw'>last.angle</span> <span class='kw'>=</span> <span class='fl'>270</span>)</div><div class='img'><img src='piechart-1.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
<span class='co'># Example 2 -----------------------------------------------------------------</span>
<span class='co'># Passing values to polygon and playing with the radius and slice.off</span>

<span class='fu'>piechart</span>(<span class='fl'>1</span>:<span class='fl'>10</span>, <span class='kw'>density</span><span class='kw'>=</span>(<span class='fl'>1</span>:<span class='fl'>10</span>)^<span class='fl'>2</span>/<span class='fl'>2</span>, <span class='kw'>slice.off</span> <span class='kw'>=</span> (<span class='fl'>1</span>:<span class='fl'>10</span>)/<span class='fl'>30</span>, <span class='kw'>doughnut</span> <span class='kw'>=</span> <span class='fl'>.5</span>,
  <span class='kw'>radius</span> <span class='kw'>=</span> <span class='fu'>sqrt</span>(<span class='fl'>10</span>:<span class='fl'>1</span>),
  <span class='co'># Here we are setting random labels...</span>
  <span class='kw'>labels</span><span class='kw'>=</span><span class='fu'>sapply</span>(<span class='fl'>1</span>:<span class='fl'>10</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'>paste</span>(<span class='fu'>sample</span>(<span class='no'>letters</span>, <span class='no'>x</span>, <span class='fl'>TRUE</span>), <span class='kw'>collapse</span><span class='kw'>=</span><span class='st'>""</span>))
  )</div><div class='img'><img src='piechart-2.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by FirsName LastName.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
